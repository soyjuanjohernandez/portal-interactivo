<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-APIReferences/Capabilities/OrderStr para pago" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Uso de OrderStr para pagos | Portal interactivo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/portal-interactivo/img/claro.svg"><meta data-rh="true" name="twitter:image" content="https://github.com/portal-interactivo/img/claro.svg"><meta data-rh="true" property="og:url" content="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Uso de OrderStr para pagos | Portal interactivo"><meta data-rh="true" name="description" content="Los usuarios pueden usar la aplicación de billetera para pagar el pedido realizado en el mini program si la aplicación de billetera proporciona el servicio de pago.Este documento presenta el pago llamando a la API My.Tradepay con OrderStr.Se admiten los siguientes dos tipos de pago:"><meta data-rh="true" property="og:description" content="Los usuarios pueden usar la aplicación de billetera para pagar el pedido realizado en el mini program si la aplicación de billetera proporciona el servicio de pago.Este documento presenta el pago llamando a la API My.Tradepay con OrderStr.Se admiten los siguientes dos tipos de pago:"><link data-rh="true" rel="icon" href="/portal-interactivo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago"><link data-rh="true" rel="alternate" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago" hreflang="es"><link data-rh="true" rel="alternate" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago" hreflang="x-default"><link rel="stylesheet" href="/portal-interactivo/assets/css/styles.03ba02d0.css">
<script src="/portal-interactivo/assets/js/runtime~main.78f79ab4.js" defer="defer"></script>
<script src="/portal-interactivo/assets/js/main.b0e8361f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/portal-interactivo/"><div class="navbar__logo"><img src="/portal-interactivo/img/claro.svg" alt="Logotipo claro" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/portal-interactivo/img/claro.svg" alt="Logotipo claro" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Portal interactivo</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/portal-interactivo/docs/docs">Documetación</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/soyjuanjohernandez/portal-interactivo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs barra lateral" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/portal-interactivo/docs/docs">Documentación</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/-guía-de-inicio-rápido">👨‍💻 Guía de inicio rápido</a><button aria-label="Expand sidebar category &#x27;👨‍💻 Guía de inicio rápido&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/-herramienta-de-desarrollo-ide">🛠 Herramienta de desarrollo (IDE)</a><button aria-label="Expand sidebar category &#x27;🛠 Herramienta de desarrollo (IDE)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/portal-interactivo/docs/category/referencias-de-api">Referencias de API</a><button aria-label="Collapse sidebar category &#x27;Referencias de API&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/portal-interactivo/docs/category/openapis">OpenAPIs</a><button aria-label="Expand sidebar category &#x27;OpenAPIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/portal-interactivo/docs/category/capacidades">Capacidades</a><button aria-label="Collapse sidebar category &#x27;Capacidades&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Capacidades">Capacidades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion">Autorización de usuarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Informacion basica usuario">Obtener información básica del usuario</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/TradeNo para pago">Uso de TradeNO para pagos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago">Uso de OrderStr para pagos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/PaymentUrl para pago">Utilice PaymentUrl para pagar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Capacidad de pago">Capacidad de pago</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/userinfo capacidad">Capacidad de la información del usuario</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/portal-interactivo/docs/category/jsapi">JSAPI</a><button aria-label="Expand sidebar category &#x27;JSAPI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/recursos-para-desarrollo">Recursos para desarrollo</a><button aria-label="Expand sidebar category &#x27;Recursos para desarrollo&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Colapsar barra lateral" aria-label="Colapsar barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/portal-interactivo/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/portal-interactivo/docs/category/referencias-de-api"><span itemprop="name">Referencias de API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/portal-interactivo/docs/category/capacidades"><span itemprop="name">Capacidades</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Uso de OrderStr para pagos</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Uso de OrderStr para pagos</h1>
<p>Los usuarios pueden usar la aplicación de billetera para pagar el pedido realizado en el mini program si la aplicación de billetera proporciona el servicio de pago.Este documento presenta el pago llamando a la API My.Tradepay con OrderStr.Se admiten los siguientes dos tipos de pago:</p>
<ul>
<li>
<p>Pago general en línea</p>
</li>
<li>
<p>Pago previo a la autorización</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pago-general-en-línea">Pago general en línea<a href="#pago-general-en-línea" class="hash-link" aria-label="Enlace directo al Pago general en línea" title="Enlace directo al Pago general en línea">​</a></h2>
<p>Los usuarios pueden completar un pago general en línea en el mini programa.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="experiencia-de-usuario">Experiencia de usuario<a href="#experiencia-de-usuario" class="hash-link" aria-label="Enlace directo al Experiencia de usuario" title="Enlace directo al Experiencia de usuario">​</a></h2>
<p>Para completar un pago en el mini program, los usuarios generalmente siguen los pasos a continuación:</p>
<ol>
<li>El usuario elige bienes en el mini program y crea un pedido, luego presiona el botón de pago en el mini program.</li>
<li>El mini program redirige al usuario a la aplicación de billetera y la aplicación de billetera muestra la página de pago.</li>
<li>El usuario confirma la información del pedido, como el beneficiario y el monto, luego hace clic en el botón de pago para realizar el pago.</li>
<li>Después de confirmar el pago, la aplicación de billetera muestra el resultado del pago y redirige al usuario a la página del resultado del pago en el mini program.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="procedimientos">Procedimientos<a href="#procedimientos" class="hash-link" aria-label="Enlace directo al Procedimientos" title="Enlace directo al Procedimientos">​</a></h2>
<p>Para usar la api <code>My.Tradepay</code> Para Iniciary Pago en El mini program, Los Desarrolladores de Mini del Programa Deben Agrupo los Sigenes Pasos:</p>
<ol>
<li>Confirme que el servicio de pago proporcionado por la aplicación de billetera admite el pago por OrderStr y obtenga la guía de integración de la aplicación de billetera.</li>
<li>Integre el servicio de pago en el lado del servidor Mini del programa.</li>
<li>Cree un mini programa en el espacio de trabajo de la billetera en la plataforma Mini Program, o asegúrese de que el Mini programa pueda publicarse en la aplicación de billetera.</li>
<li>Proporcione bienes y servicios de pago en el mini program.</li>
<li>Publique el mini programa..</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="proceso-de-pago">Proceso de pago<a href="#proceso-de-pago" class="hash-link" aria-label="Enlace directo al Proceso de pago" title="Enlace directo al Proceso de pago">​</a></h2>
<p>La siguiente figura ilustra el proceso de pago:</p>
<p><img decoding="async" loading="lazy" alt="Proceso de pago" src="/portal-interactivo/assets/images/orderStrpay1-7d2df693565d2a944fe66e78d845ea11.png" width="2463" height="2250" class="img_ev3q"></p>
<p>El proceso de pago contiene los siguientes pasos:</p>
<ol>
<li>El usuario realiza un pedido en el Mini Programa (Paso 1).</li>
<li>El Cliente de Mini del Programa envía una solicitud para crear el pedido al servidor MINI del programa llamando a la API <a href="/portal-interactivo/">my.request</a> (paso 1.1).</li>
<li>El servidor MINI del programa crea el pedido y devuelve <code>orderStr</code> al cliente MINI del programa (paso 1.1.1 y 1.1.2).</li>
<li>El Cliente de Mini del Programa inicia la solicitud de pago llamando a la API my.Tradepay con OrderStr a la aplicación de billetera (paso 1.1.2.1).</li>
<li>La billetera procesa la solicitud de pago internamente y la aplicación de billetera representa la página del cajero (paso 1.1.2.1.1 - 1.1.2.1.3).</li>
<li>El usuario confirma el pago y la aplicación de billetera muestra el resultado del pago (Paso 2 - 2.2).</li>
<li>La aplicación de billetera devuelve el resultado de pago al cliente mini del programa.Al mismo tiempo, el servidor de billetera devuelve el resultado de pago al servidor MINI del programa (paso 2.3).</li>
<li>El cliente mini del programa muestra el resultado de pago (paso 2.3.1).</li>
</ol>
<p><strong>Nota:</strong></p>
<p>El flujo de pago es para referencia y puede variar según la implementación de la API de la billetera.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="pago-previo-a-la-autorización">Pago previo a la autorización<a href="#pago-previo-a-la-autorización" class="hash-link" aria-label="Enlace directo al Pago previo a la autorización" title="Enlace directo al Pago previo a la autorización">​</a></h2>
<p>El pago previo a la autorización es una práctica común en las industrias de alquiler y hoteles donde el usuario puede pre-autorizar un pago por adelantado.A diferencia de los bienes con precios confirmados, el precio de algunos servicios solo se puede determinar cuando el usuario ha terminado de usar el servicio.Como tal, los comerciantes de servicios pueden usar pagos de preautorización para garantizar que el pedido se pueda pagar antes de proporcionar el servicio.</p>
<p>Los comerciantes pueden llamar a la API <a href="/portal-interactivo/">my.tradePay</a> con <code>orderStr</code> para iniciar una solicitud de pago de preautorización a través del mini program. Después de que el usuario ha otorgado la preautorización, los fondos son capturados por el comerciante automáticamente después de que se resuelva el monto del servicio.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="experiencia-de-usuario-1">Experiencia de usuario<a href="#experiencia-de-usuario-1" class="hash-link" aria-label="Enlace directo al Experiencia de usuario" title="Enlace directo al Experiencia de usuario">​</a></h3>
<p>Para completar un pago previo a la autorización, los usuarios generalmente siguen los pasos a continuación:</p>
<ol>
<li>El usuario confirma usar el servicio proporcionado por el mini program.</li>
<li>El mini program redirige al usuario a la página previa a la autorización en la aplicación de billetera.</li>
<li>El usuario confirma la autorización, luego la aplicación de billetera redirige al usuario al mini program.El usuario comienza a usar el servicio.</li>
<li>Después de que el usuario haya terminado de usar el servicio y se confirma la tarifa de servicio, el comerciante deduce los fondos automáticamente y el usuario recibe una notificación en la aplicación de billetera.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="procedimientos-1">Procedimientos<a href="#procedimientos-1" class="hash-link" aria-label="Enlace directo al Procedimientos" title="Enlace directo al Procedimientos">​</a></h3>
<p>Para usar la API <code>my.tradePay</code> para completar la preautorización en el mini program, los desarrolladores de mini del programa deben completar los siguientes pasos:</p>
<ol>
<li>Confirme que la aplicación de billetera admite la capacidad de preautorización y obtenga la guía de integración de la billetera.</li>
<li>Integre el servicio de pago en el lado del servidor mini program.</li>
<li>Cree un mini programa en el espacio de trabajo de la billetera en la plataforma Mini Program, o asegúrese de que el Mini programa pueda publicarse en la aplicación de billetera.</li>
<li>Proporcione el servicio que requiere la autorización previa en el mini program.</li>
<li>Publique el mini program.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="proceso-de-pago-1">Proceso de pago<a href="#proceso-de-pago-1" class="hash-link" aria-label="Enlace directo al Proceso de pago" title="Enlace directo al Proceso de pago">​</a></h3>
<p>La siguiente figura ilustra el proceso de pago previo a la autorización:</p>
<p><img decoding="async" loading="lazy" alt="Proceso de pago 2" src="/portal-interactivo/assets/images/orderStrpay2-a42155890d60f1aec1fb89d2ed101d63.png" width="2463" height="2421" class="img_ev3q"></p>
<p>El proceso de pago contiene los siguientes pasos:</p>
<ol>
<li>El usuario comienza a usar el servicio en el mini program (Paso 1).</li>
<li>El Cliente del mini program envía una solicitud para crear el pedido al servidor de Mini del Programa llamando a la API <a href="/portal-interactivo/">my.request</a> (Paso 2).</li>
<li>El servidor mini program crea el pedido y devuelve <code>orderStr</code> al Mini Cliente del Programa (Paso 3 y 4).</li>
<li>El Mini Cliente del Programa inicia la solicitud de preautorización llamando a la API <a href="/portal-interactivo/">my.tradePay</a> con <code>orderStr</code> a la aplicación de billetera (paso 1.1.2.1).</li>
<li>La billetera procesa la solicitud de preautorización internamente y la aplicación de billetera representa la página de preautorización (Paso 6-8).</li>
<li>El usuario completa la preautorización y la aplicación de billetera devuelve el resultado previo a la autorización al cliente mini del programa (paso 10-12).</li>
<li>El usuario comienza a utilizar el servicio proporcionado por el mini program.Cuando el usuario ha terminado de usar el servicio, el cliente Mini del programa envía la solicitud de pago al servidor de MINI del programa llamando a la API <a href="/portal-interactivo/">my.request</a> (paso 13 - 15).</li>
<li>El servidor Mini del programa envía la solicitud de pago llamando a la API del servidor proporcionada por la billetera y el servidor de la billetera devuelve el resultado de pago (paso 16 y 17).</li>
</ol>
<p><strong>Nota:</strong></p>
<p>El flujo de pago es para referencia y puede variar según la implementación de la API de la billetera.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="código-de-muestra">Código de muestra<a href="#código-de-muestra" class="hash-link" aria-label="Enlace directo al Código de muestra" title="Enlace directo al Código de muestra">​</a></h2>
<p>El código de muestra para la llamada de la API de <code>my.tradePay</code> es el siguiente:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">tradePay</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">orderStr</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;app_id=2018112803019836&amp;biz_content=%7B%22amount%22%3A%220.02%22%2C%22extra_param%22%3A%22%7B%5C%22category%5C%22%3A%5C%22CHARGE_PILE_CAR%5C%22%7D%22%2C%22order_title%22%3A%22%D6%A7%B8%B6%B1%A6%D4%A4%CA%DA%C8%A8%22%2C%22out_order_no%22%3A%22ZMOutOrderNoAppFreeze2018052915543415090975%22%2C%22out_request_no%22%3A%22ZMOutReqNoAppFreeze20180529155434581875858%22%2C%22pay_timeout%22%3A%222d%22%2C%22payee_user_id%22%3A%222088202224929664%22%2C%22product_code%22%3A%22PRE_AUTH_ONLINE%22%7D&amp;charset=GBK&amp;format=json&amp;sign=L4wk%2FNKcbJOo3n6Q5qbPzn0jUsvZlK4jr7iXnghudR0zeWJMmeNC71qIBSQfIz45n%2B5iTd0NQ5IK581xI2xCShTCiKAywnQcDmA%2Bjf%2BrRdKCDQCMLfCz%2BZ37C%2B6zxAX3e81%2F8Hr29lw4VPFfHkp9FmMwKw%2FGkNfV5ZlWoh7UtN8%3D&amp;sign_type=RSA&amp;timestamp=2018-05-29+15%3A54%3A35&amp;version=1.0&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">            </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        my</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">fail</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        my</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/portal-interactivo/docs/APIReferences/Capabilities/TradeNo para pago"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Uso de TradeNO para pagos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/portal-interactivo/docs/APIReferences/Capabilities/PaymentUrl para pago"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Utilice PaymentUrl para pagar</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pago-general-en-línea" class="table-of-contents__link toc-highlight">Pago general en línea</a></li><li><a href="#experiencia-de-usuario" class="table-of-contents__link toc-highlight">Experiencia de usuario</a></li><li><a href="#procedimientos" class="table-of-contents__link toc-highlight">Procedimientos</a></li><li><a href="#proceso-de-pago" class="table-of-contents__link toc-highlight">Proceso de pago</a></li><li><a href="#pago-previo-a-la-autorización" class="table-of-contents__link toc-highlight">Pago previo a la autorización</a><ul><li><a href="#experiencia-de-usuario-1" class="table-of-contents__link toc-highlight">Experiencia de usuario</a></li><li><a href="#procedimientos-1" class="table-of-contents__link toc-highlight">Procedimientos</a></li><li><a href="#proceso-de-pago-1" class="table-of-contents__link toc-highlight">Proceso de pago</a></li></ul></li><li><a href="#código-de-muestra" class="table-of-contents__link toc-highlight">Código de muestra</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Portal inteactivos Docs, Neoris.</div></div></div></footer></div>
</body>
</html>