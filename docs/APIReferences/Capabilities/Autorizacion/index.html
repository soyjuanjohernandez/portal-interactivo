<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-APIReferences/Capabilities/Autorizacion" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Autorización de usuarios | Portal interactivo</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/portal-interactivo/img/claro.svg"><meta data-rh="true" name="twitter:image" content="https://github.com/portal-interactivo/img/claro.svg"><meta data-rh="true" property="og:url" content="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion"><meta data-rh="true" property="og:locale" content="es"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Autorización de usuarios | Portal interactivo"><meta data-rh="true" name="description" content="La autorización del usuario describe el proceso de obtener el consentimiento de un usuario para acceder a la información del usuario.Se basa en el mecanismo de autorización estándar de la industria OAuth2.0.En la plataforma Mini Program, los desarrolladores deben obtener el permiso de los usuarios en el Mini programa antes de obtener y usar su información."><meta data-rh="true" property="og:description" content="La autorización del usuario describe el proceso de obtener el consentimiento de un usuario para acceder a la información del usuario.Se basa en el mecanismo de autorización estándar de la industria OAuth2.0.En la plataforma Mini Program, los desarrolladores deben obtener el permiso de los usuarios en el Mini programa antes de obtener y usar su información."><link data-rh="true" rel="icon" href="/portal-interactivo/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion"><link data-rh="true" rel="alternate" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion" hreflang="es"><link data-rh="true" rel="alternate" href="https://github.com/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion" hreflang="x-default"><link rel="stylesheet" href="/portal-interactivo/assets/css/styles.03ba02d0.css">
<script src="/portal-interactivo/assets/js/runtime~main.78f79ab4.js" defer="defer"></script>
<script src="/portal-interactivo/assets/js/main.b0e8361f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Principal" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Alternar barra lateral" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/portal-interactivo/"><div class="navbar__logo"><img src="/portal-interactivo/img/claro.svg" alt="Logotipo claro" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/portal-interactivo/img/claro.svg" alt="Logotipo claro" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Portal interactivo</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/portal-interactivo/docs/docs">Documetación</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/soyjuanjohernandez/portal-interactivo" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-label="Cambiar entre modo oscuro y claro (actualmente modo claro)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs barra lateral" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/portal-interactivo/docs/docs">Documentación</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/-guía-de-inicio-rápido">👨‍💻 Guía de inicio rápido</a><button aria-label="Expand sidebar category &#x27;👨‍💻 Guía de inicio rápido&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/-herramienta-de-desarrollo-ide">🛠 Herramienta de desarrollo (IDE)</a><button aria-label="Expand sidebar category &#x27;🛠 Herramienta de desarrollo (IDE)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/portal-interactivo/docs/category/referencias-de-api">Referencias de API</a><button aria-label="Collapse sidebar category &#x27;Referencias de API&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/portal-interactivo/docs/category/openapis">OpenAPIs</a><button aria-label="Expand sidebar category &#x27;OpenAPIs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/portal-interactivo/docs/category/capacidades">Capacidades</a><button aria-label="Collapse sidebar category &#x27;Capacidades&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Capacidades">Capacidades</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion">Autorización de usuarios</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Informacion basica usuario">Obtener información básica del usuario</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/TradeNo para pago">Uso de TradeNO para pagos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago">Uso de OrderStr para pagos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/PaymentUrl para pago">Utilice PaymentUrl para pagar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/Capacidad de pago">Capacidad de pago</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/portal-interactivo/docs/APIReferences/Capabilities/userinfo capacidad">Capacidad de la información del usuario</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/portal-interactivo/docs/category/jsapi">JSAPI</a><button aria-label="Expand sidebar category &#x27;JSAPI&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/portal-interactivo/docs/category/recursos-para-desarrollo">Recursos para desarrollo</a><button aria-label="Expand sidebar category &#x27;Recursos para desarrollo&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Colapsar barra lateral" aria-label="Colapsar barra lateral" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Página de Inicio" class="breadcrumbs__link" href="/portal-interactivo/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/portal-interactivo/docs/category/referencias-de-api"><span itemprop="name">Referencias de API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/portal-interactivo/docs/category/capacidades"><span itemprop="name">Capacidades</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Autorización de usuarios</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Autorización de usuarios</h1>
<p>La autorización del usuario describe el proceso de obtener el consentimiento de un usuario para acceder a la información del usuario.Se basa en el mecanismo de autorización estándar de la industria OAuth2.0.En la plataforma Mini Program, los desarrolladores deben obtener el permiso de los usuarios en el Mini programa antes de obtener y usar su información.</p>
<table><tr><th><p>Nombre</p></th><th><p>Descripción</p></th></tr><tr><td>Alcance de la autorización
(alcance)</td><td>Un alcance representa el alcance de los permisos que los desarrolladores necesitan para solicitar la autorización del usuario.Un alcance contiene al menos una interfaz API abierta o interfaz JSAPI.Una autorización puede combinar múltiples ámbitos para la autorización combinada.Para obtener más información, consulte la descripción del alcance en my.getAuthCode.</td></tr><tr><td>Código de Autorización
(código de autenticación)</td><td>Credenciales de autorización de usuario temporal.Después de obtenerlo, intercambílo rápidamente para el token de acceso mencionado a continuación.</td></tr><tr><td>Token de acceso o token de autorización
(access_token o auth_token)</td><td>Credenciales de autorización a largo plazo. Se utiliza para llamar a la puerta de enlace del sitio para llamar a la interfaz de autorización del lado del servidor. Preste atención al alcance y la validez del token de autorización.</td></tr><tr><td>Actualización
(refresh_token)</td><td>Se utiliza para actualizar y obtener un nuevo token de acceso después de que expire el token de acceso.El token de actualización también tiene un período de validez.</td></tr></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="guias-de-acceso">Guias de acceso<a href="#guias-de-acceso" class="hash-link" aria-label="Enlace directo al Guias de acceso" title="Enlace directo al Guias de acceso">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flujo-de-acceso">Flujo de acceso<a href="#flujo-de-acceso" class="hash-link" aria-label="Enlace directo al Flujo de acceso" title="Enlace directo al Flujo de acceso">​</a></h3>
<p>Tomando la obtención de la información del usuario como ejemplo. El flujo de acceso general se ilustra a continuación:</p>
<p><img decoding="async" loading="lazy" alt="Grafico general del flujo de obtención de información" src="/portal-interactivo/assets/images/accesprocess-bd987bfb27d8ce1be43d73afb2673174.png" width="1492" height="704" class="img_ev3q"></p>
<ol>
<li>
<p>El miniprogram hace el llamado al <code>getAuthcode</code> JSAPI para obtener el código de autorización (<code>AuthCode</code>) de la billetera [1.1].</p>
</li>
<li>
<p>El miniprogram hace el llamado a la API del servidor comercial con AuthCode [2].</p>
</li>
<li>
<p>El servidor comercial llama a Aplicando OpenApi y el servidor de plataforma autorizado devuelve el token de acceso [2.2].</p>
</li>
<li>
<p>El servidor comercial guarda el token de acceso y devuelve el resultado de la autorización al mini programa [2.4].</p>
</li>
</ol>
<p><b>Nota: </b>Para autorizar otra información, use un alcance diferente para el parámetro Scopes al llamar a <code>GetAuthCode</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-authcode">Obtener authcode<a href="#obtener-authcode" class="hash-link" aria-label="Enlace directo al Obtener authcode" title="Enlace directo al Obtener authcode">​</a></h2>
<p>Puede obtener la autorización del usuario llamando al my.getAuthcode JSAPI y obtener el AuthCode en la devolución de llamada de éxito. Por ejemplo:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">my</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getAuthCode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token literal-property property" style="color:#36acaa">scopes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;USER_ID&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">success</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    my</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">alert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token literal-property property" style="color:#36acaa">content</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">authCode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">failed</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">authErrorScopes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="obtener-accesstoken">Obtener accessToken<a href="#obtener-accesstoken" class="hash-link" aria-label="Enlace directo al Obtener accessToken" title="Enlace directo al Obtener accessToken">​</a></h2>
<ul>
<li>
<p>Para comerciantes: antes de obtener un <code>accesstoken</code>, necesita obtener un <code>authcode</code> de la billetera. Entonces puede llamar al <code>applyToken</code> Openapi a cambio de <code>accessToken</code>.</p>
</li>
<li>
<p>Para desarrolladores: los desarrolladores pueden intercambiar <code>accessToken</code> y <code>userId</code> con el <code>authcode</code> obtenido.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="llamar-al-servidor-openapi">Llamar al servidor Openapi<a href="#llamar-al-servidor-openapi" class="hash-link" aria-label="Enlace directo al Llamar al servidor Openapi" title="Enlace directo al Llamar al servidor Openapi">​</a></h2>
<p>Después de obtener el <code>AccessToken</code>, los desarrolladores pueden continuar utilizando el token de acceso para llamar a otras interfaces de autorización. Preste atención al alcance del permiso y el período de validez del token.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lista-de-la-api">Lista de la API<a href="#lista-de-la-api" class="hash-link" aria-label="Enlace directo al Lista de la API" title="Enlace directo al Lista de la API">​</a></h2>
<table><tr><td><b>JSAPI</b></td><td><b>Descripción</b></td></tr><tr><td><a href="https://miniprogram.alipay.com/docs/miniprogram/mpdev/api_openapi_getauthcode" target="_blank" rel="noopener noreferrer">my.getAuthCode</a></td><td>Obtiene el código de autorización del usuario.</td></tr><tr><td><b>OpenAPI</b></td><td><b>Descripción</b></td></tr><tr><td><a href="https://miniprogram.alipay.com/docs/miniprogram/mpdev/api_openapi_getauthcode" target="_blank" rel="noopener noreferrer">v2/authorizations/applyToken</a></td><td>Obtenga el token de acceso.</td></tr></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="preguntas-frecuentes">Preguntas frecuentes<a href="#preguntas-frecuentes" class="hash-link" aria-label="Enlace directo al Preguntas frecuentes" title="Enlace directo al Preguntas frecuentes">​</a></h2>
<ol>
<li>
<b>¿Por qué los desarrolladores deberían usar <code>my.getAuthcode</code> API?</b>
</li>
</ol>
<p>Toda la lectura y la redacción de información del usuario en la plataforma Mini Program solo se pueden usar después de obtener el consentimiento del usuario.La autorización del usuario se basa en el mecanismo de autorización estándar de la industria OAuth2.0. Con este mecanismo, los desarrolladores pueden obtener información del usuario en la plataforma Mini Program.</p>
<ol start="2">
<li>
<b>¿Por qué la API de autorización del usuario no está permitida en la primera pantalla del mini programa?</b>
</li>
</ol>
<p>Para crear una mejor experiencia de usuario en el mini program, no se permite la orientación de autorización del usuario en la primera pantalla del mini program.La orientación para la autorización del usuario debe administrarse después de que el usuario comprende completamente el contenido comercial del mini programa. Le recomendamos que agregue la autorización de mini programa al proceso de negocio.</p>
<ol start="3">
<li>
<b>¿Se puede obtener el <code>userId</code> a través de la API de autorización del usuario?</b>
</li>
</ol>
<p>No, el <code>userId</code> debe obtenerse llamando a la API relacionada en el lado del servidor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="más-información">Más información<a href="#más-información" class="hash-link" aria-label="Enlace directo al Más información" title="Enlace directo al Más información">​</a></h2>
<p><a href="https://miniprogram.alipay.com/docs/miniprogram/mpdev/api_openapi_obtainbasicmemberinformation" target="_blank" rel="noopener noreferrer">Obtener información básica del usuario</a></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Página del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/portal-interactivo/docs/APIReferences/Capabilities/Capacidades"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Capacidades</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/portal-interactivo/docs/APIReferences/Capabilities/Informacion basica usuario"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Obtener información básica del usuario</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#guias-de-acceso" class="table-of-contents__link toc-highlight">Guias de acceso</a><ul><li><a href="#flujo-de-acceso" class="table-of-contents__link toc-highlight">Flujo de acceso</a></li></ul></li><li><a href="#obtener-authcode" class="table-of-contents__link toc-highlight">Obtener authcode</a></li><li><a href="#obtener-accesstoken" class="table-of-contents__link toc-highlight">Obtener accessToken</a></li><li><a href="#llamar-al-servidor-openapi" class="table-of-contents__link toc-highlight">Llamar al servidor Openapi</a></li><li><a href="#lista-de-la-api" class="table-of-contents__link toc-highlight">Lista de la API</a></li><li><a href="#preguntas-frecuentes" class="table-of-contents__link toc-highlight">Preguntas frecuentes</a></li><li><a href="#más-información" class="table-of-contents__link toc-highlight">Más información</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Portal inteactivos Docs, Neoris.</div></div></div></footer></div>
</body>
</html>