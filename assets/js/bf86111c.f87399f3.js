"use strict";(self.webpackChunkportal_interactivo=self.webpackChunkportal_interactivo||[]).push([[9339],{29402:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var i=a(74848),r=a(28453);const t={sidebar_position:1},s="my.createAnimation",d={id:"APIReferences/JSAPI/UI/Animaci\xf3n/my.createAnimation",title:"my.createAnimation",description:"Crea una instancia de animaci\xf3n. Llama al m\xe9todo de instancia para describir la animaci\xf3n y luego use el m\xe9todo de `exportaci\xf3n` de instancia de animaci\xf3n para exportar los datos de animaci\xf3n y transferir al atributo de `animaci\xf3n` de componentes.",source:"@site/docs/APIReferences/JSAPI/UI/Animaci\xf3n/my.createAnimation.md",sourceDirName:"APIReferences/JSAPI/UI/Animaci\xf3n",slug:"/APIReferences/JSAPI/UI/Animaci\xf3n/my.createAnimation",permalink:"/portal-interactivo/docs/APIReferences/JSAPI/UI/Animaci\xf3n/my.createAnimation",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"docsSidebar",previous:{title:"Animaci\xf3n",permalink:"/portal-interactivo/docs/category/animaci\xf3n"},next:{title:"Canvas",permalink:"/portal-interactivo/docs/category/canvas"}},l={},c=[{value:"C\xf3digo de muestra",id:"c\xf3digo-de-muestra",level:2},{value:"Par\xe1metros",id:"par\xe1metros",level:2},{value:"C\xf3digo de muestra",id:"c\xf3digo-de-muestra-1",level:2},{value:"Animaci\xf3n",id:"animaci\xf3n",level:2},{value:"Style",id:"style",level:3},{value:"Rotaci\xf3n",id:"rotaci\xf3n",level:3},{value:"Escala",id:"escala",level:3},{value:"Sesgar",id:"sesgar",level:3},{value:"Transformaci\xf3n de matriz",id:"transformaci\xf3n-de-matriz",level:3},{value:"Animaci\xf3n en cola",id:"animaci\xf3n-en-cola",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"mycreateanimation",children:"my.createAnimation"}),"\n",(0,i.jsxs)(n.p,{children:["Crea una instancia de animaci\xf3n. Llama al m\xe9todo de instancia para describir la animaci\xf3n y luego use el m\xe9todo de ",(0,i.jsx)(n.code,{children:"exportaci\xf3n"})," de instancia de animaci\xf3n para exportar los datos de animaci\xf3n y transferir al atributo de ",(0,i.jsx)(n.code,{children:"animaci\xf3n"})," de componentes."]}),"\n",(0,i.jsx)(n.admonition,{title:"NOTA",type:"info",children:(0,i.jsxs)(n.p,{children:["Despu\xe9s de que se llame al m\xe9todo de ",(0,i.jsx)(n.code,{children:"exportaci\xf3n"}),", se borrar\xe1 la operaci\xf3n de animaci\xf3n anterior."]})}),"\n",(0,i.jsx)(n.h2,{id:"c\xf3digo-de-muestra",children:"C\xf3digo de muestra"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'//.json\r\n{\r\n    "defaultTitle": "Animation"\r\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'\x3c!-- .axml --\x3e\r\n<view class="page">\r\n  <view class="page-description">Animation API</view>\r\n  <view class="page-section">\r\n    <view class="page-section-title">my.createAnimation</view>\r\n    <view class="page-section-demo">\r\n      <view class="animation-element" animation="{{animation}}"></view>\r\n    </view>\r\n    <view class="page-section-btns">\r\n      <view type="primary" onTap="rotate">Rotate</view>\r\n      <view type="primary" onTap="scale"> Scale</view>\r\n      <view type="primary" onTap="translate">Translate</view>\r\n    </view>\r\n    <view class="page-section-btns">\r\n      <view type="primary" onTap="skew">Skew</view>\r\n      <view type="primary" onTap="rotateAndScale">Rotate and scale</view>\r\n      <view type="primary" onTap="rotateThenScale">Rotate and then scale</view>\r\n    </view>\r\n    <view class="page-section-btns">\r\n      <view type="primary" onTap="all">Expand all simultaneously </view>\r\n      <view type="primary" onTap="allInQueue">Expand all in order</view>\r\n      <view type="primary" onTap="reset">Reset</view>\r\n    </view>\r\n  </view>\r\n</view>\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"//.js\r\nPage({\r\n  onReady() {\r\n    this.animation = my.createAnimation()\r\n  },\r\n  rotate() {\r\n    this.animation.rotate(Math.random() * 720 - 360).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  scale() {\r\n    this.animation.scale(Math.random() * 2).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  translate() {\r\n    this.animation.translate(Math.random() * 100 - 50, Math.random() * 100 - 50).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  skew() {\r\n    this.animation.skew(Math.random() * 90, Math.random() * 90).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  rotateAndScale() {\r\n    this.animation.rotate(Math.random() * 720 - 360)\r\n      .scale(Math.random() * 2)\r\n      .step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  rotateThenScale() {\r\n    this.animation.rotate(Math.random() * 720 - 360).step()\r\n      .scale(Math.random() * 2).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  all() {\r\n    this.animation.rotate(Math.random() * 720 - 360)\r\n      .scale(Math.random() * 2)\r\n      .translate(Math.random() * 100 - 50, Math.random() * 100 - 50)\r\n      .skew(Math.random() * 90, Math.random() * 90)\r\n      .step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  allInQueue() {\r\n    this.animation.rotate(Math.random() * 720 - 360).step()\r\n      .scale(Math.random() * 2).step()\r\n      .translate(Math.random() * 100 - 50, Math.random() * 100 - 50).step()\r\n      .skew(Math.random() * 90, Math.random() * 90).step()\r\n    this.setData({ animation: this.animation.export() })\r\n  },\r\n  reset() {\r\n    this.animation.rotate3d(0, 0, 0, 0)\r\n      .rotateX(0)\r\n      .rotateY(0)\r\n      .rotateZ(0)\r\n      .scale(1)\r\n      .translate(0, 0)\r\n      .skew(0, 0)\r\n      .step({ duration: 0 })\r\n    this.setData({ animation: this.animation.export() })\r\n  }\r\n})\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:".animation-element {\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  background-color: #108ee9;\r\n  transform: scaleX(1) scaleY(1);\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"par\xe1metros",children:"Par\xe1metros"}),"\n",(0,i.jsx)(n.p,{children:"Tipo de objeto con los siguientes atributos:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Propiedad"}),(0,i.jsx)("th",{children:"Tipo"}),(0,i.jsx)("th",{children:"Requerida"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"duration"}),(0,i.jsx)("td",{children:"Integer"}),(0,i.jsx)("td",{children:"No"}),(0,i.jsx)("td",{children:"Duraci\xf3n de animaci\xf3n, en ms, 400 por defecto."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"timeFunction"}),(0,i.jsx)("td",{children:"String"}),(0,i.jsx)("td",{children:"No"}),(0,i.jsx)("td",{children:"Define el efecto de animaci\xf3n, lineal por defecto, valores efectivos incluyendo lineal, suave, suave-entrante, suave-entrante-saliente, suave-saliente, paso-inicio y paso-final."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"delay"}),(0,i.jsx)("td",{children:"Integer"}),(0,i.jsx)("td",{children:"No"}),(0,i.jsx)("td",{children:"Retardo de animaci\xf3n, en ms, 0 por defecto."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"transformOrigin"}),(0,i.jsx)("td",{children:"String"}),(0,i.jsx)("td",{children:"No"}),(0,i.jsx)("td",{children:"Establece transformaci\xf3n de origen, 50% 50% 0 por defecto."})]})]}),"\n",(0,i.jsx)(n.h2,{id:"c\xf3digo-de-muestra-1",children:"C\xf3digo de muestra"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'//.js\r\nconst animation = my.createAnimation({\r\n  transformOrigin: "top right",\r\n  duration: 3000,\r\n  timeFunction: "ease-in-out",\r\n  delay: 100,\r\n})\n'})}),"\n",(0,i.jsx)(n.h2,{id:"animaci\xf3n",children:"Animaci\xf3n"}),"\n",(0,i.jsxs)(n.p,{children:["La instancia de animaci\xf3n puede llamar al siguiente m\xe9todo para describir la animaci\xf3n.Al final de la llamada, se devuelve la instancia en s\xed.El estilo de llamada en cadena es compatible.Cuando el atributo de animaci\xf3n de vista se inicializa como ",(0,i.jsx)(n.code,{children:"{}"}),", el error puede aparecer en Basic Library 1.11.0 (sin incluir 1.11.0) y la versi\xf3n inferior.Se recomienda inicializar como ",(0,i.jsx)(n.code,{children:"null"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"style",children:"Style"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"M\xe9todo"}),(0,i.jsx)("th",{children:"Par\xe1metros"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"opacity"}),(0,i.jsx)("td",{children:"value"}),(0,i.jsx)("td",{children:"Transparencia, rango 0~1."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"backgroundColor"}),(0,i.jsx)("td",{children:"color"}),(0,i.jsx)("td",{children:"Valor de color."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"width"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establezca la altura: valores de longitud, en px, como 300 px."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"height"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establece el ancho: valores de longitud, en px, como 300 px."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"top"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establece los valores de arriba: longitud, en px, como 300 px."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"left"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establece los valores de la izquierda: longitud, en px, como 300 px."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"bottom"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establezca los valores de fondo: longitud, en px, como 300 px."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"right"}),(0,i.jsx)("td",{children:"length"}),(0,i.jsx)("td",{children:"Establece los valores de la derecha: longitud, en px, como 300 px."})]})]}),"\n",(0,i.jsx)(n.h3,{id:"rotaci\xf3n",children:"Rotaci\xf3n"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"M\xe9todo"}),(0,i.jsx)("th",{children:"Par\xe1metros"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"rotate"}),(0,i.jsx)("td",{children:"deg"}),(0,i.jsx)("td",{children:"Rango de grados -180 ~ 180, girar grados en el sentido de las agujas del reloj desde el origen."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"rotateX"}),(0,i.jsx)("td",{children:"deg"}),(0,i.jsx)("td",{children:"Rango de grados -180 ~ 180, rota grados en el eje X."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"rotateY"}),(0,i.jsx)("td",{children:"deg"}),(0,i.jsx)("td",{children:"Rango de grados -180 ~ 180, rota grados en el eje Y."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"rotateZ"}),(0,i.jsx)("td",{children:"deg"}),(0,i.jsx)("td",{children:"Rango de grados -180 ~ 180, rota grados en el eje Z."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"rotate3d"}),(0,i.jsx)("td",{children:"(x, y , z, deg)"}),(0,i.jsxs)("td",{children:["Igual que ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/rotate3d",children:"transform-function rotate3d"}),"."]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"escala",children:"Escala"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"M\xe9todo"}),(0,i.jsx)("th",{children:"Par\xe1metros"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"scale"}),(0,i.jsx)("td",{children:"sx,[sy]"}),(0,i.jsxs)("td",{className:"p-no-margin",children:[(0,i.jsx)(n.p,{children:"Cuando solo hay un par\xe1metro, indica escala SX tiempos en las exises x e y al mismo tiempo."}),(0,i.jsx)(n.p,{children:"Cuando hay dos par\xe1metros, indica escala SX Times en el eje x y los tiempos de SY en el eje y."})]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"scaleX"}),(0,i.jsx)("td",{children:"sx"}),(0,i.jsx)("td",{children:"Escala sx veces en el eje X."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"scaleY"}),(0,i.jsx)("td",{children:"sy"}),(0,i.jsx)("td",{children:"Escala sx veces en el eje Y."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"scaleZ"}),(0,i.jsx)("td",{children:"sz"}),(0,i.jsx)("td",{children:"Escala sx veces en el eje Z."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"scale3d"}),(0,i.jsx)("td",{children:"(sx,sy,sz)"}),(0,i.jsx)("td",{children:"Traslada por tx en el eje X, ty en el eje Y y tz en el eje Z, en px."})]})]}),"\n",(0,i.jsx)(n.h3,{id:"sesgar",children:"Sesgar"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"M\xe9todo"}),(0,i.jsx)("th",{children:"Par\xe1metros"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"skew"}),(0,i.jsx)("td",{children:"ax,[ay]"}),(0,i.jsx)("td",{children:"Rango -180~180 Cuando s\xf3lo hay un par\xe1metro, Y permanece invariable y X se desv\xeda ax grados en el sentido de las agujas del reloj. Cuando hay dos par\xe1metros, X se inclina ax grados e Y se inclina ay grados."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"skewX"}),(0,i.jsx)("td",{children:"ax"}),(0,i.jsx)("td",{children:"Rango -180~180 Y permanece invariable y X se desv\xeda un eje en el sentido de las agujas del reloj. Grado."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"skewY"}),(0,i.jsx)("td",{children:"ay"}),(0,i.jsx)("td",{children:"Rango -180~180 X permanece invariable e Y se desv\xeda ay grados en el sentido de las agujas del reloj."})]})]}),"\n",(0,i.jsx)(n.h3,{id:"transformaci\xf3n-de-matriz",children:"Transformaci\xf3n de matriz"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"M\xe9todo"}),(0,i.jsx)("th",{children:"Par\xe1metros"}),(0,i.jsx)("th",{children:"Descripci\xf3n"})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"matrix"}),(0,i.jsx)("td",{children:"(a,b,c,d,tx,ty)"}),(0,i.jsxs)("td",{children:["Igual que ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix",children:"transform-function"}),"."]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"matrix3d"}),(0,i.jsx)("td",{children:"(a1, b1, c1, d1, a2, b2, c2, d2, a3, b3, c3, d3, a4, b4, c4, d4)"}),(0,i.jsxs)("td",{children:["Igual que ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/matrix3d",children:"transform-function matrix3d"}),"."]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"animaci\xf3n-en-cola",children:"Animaci\xf3n en cola"}),"\n",(0,i.jsxs)(n.p,{children:["\u2022\tCuando se llama al m\xe9todo de operaci\xf3n de animaci\xf3n, es necesario llamar a ",(0,i.jsx)(n.code,{children:"step()"})," para indicar la finalizaci\xf3n de un grupo de animaciones. Dentro de un grupo de animaci\xf3n, es posible llamar a cualquier n\xfamero de m\xe9todos de animaci\xf3n. Todas las animaciones del grupo comienzan al mismo tiempo. No se entra en el siguiente grupo hasta que finaliza el grupo de animaci\xf3n actual."]}),"\n",(0,i.jsxs)(n.p,{children:["\u2022\tEl ",(0,i.jsx)(n.code,{children:"step()"})," puede transferir un par\xe1metro de configuraci\xf3n que es el mismo que ",(0,i.jsx)(n.code,{children:"my.createAnimation()"}),", que se utiliza para especificar la configuraci\xf3n del grupo de animaci\xf3n actual."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>d});var i=a(96540);const r={},t=i.createContext(r);function s(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);