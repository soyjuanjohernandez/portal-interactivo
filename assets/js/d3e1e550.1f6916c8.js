"use strict";(self.webpackChunkportal_interactivo=self.webpackChunkportal_interactivo||[]).push([[1711],{27516:(e,a,i)=>{i.r(a),i.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>t,frontMatter:()=>l,metadata:()=>s,toc:()=>c});var r=i(74848),n=i(28453);const l={sidebar_position:4},o="Uso de TradeNO para pagos",s={id:"APIReferences/Capabilities/TradeNo para pago",title:"Uso de TradeNO para pagos",description:"Los usuarios pueden usar la aplicaci\xf3n de billetera para pagar el pedido realizado en el mini program si la aplicaci\xf3n de billetera proporciona el servicio de pago.Este documento presenta el pago llamando a la API My.Tradepay con `tradeNo`.",source:"@site/docs/APIReferences/Capabilities/TradeNo para pago.md",sourceDirName:"APIReferences/Capabilities",slug:"/APIReferences/Capabilities/TradeNo para pago",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/TradeNo para pago",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"docsSidebar",previous:{title:"Obtener informaci\xf3n b\xe1sica del usuario",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/Informacion basica usuario"},next:{title:"Uso de OrderStr para pagos",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/OrderStr para pago"}},d={},c=[{value:"Experiencia de usuario",id:"experiencia-de-usuario",level:2},{value:"Procedimientos",id:"procedimientos",level:2},{value:"Proceso de pago",id:"proceso-de-pago",level:2},{value:"C\xf3digo de muestra",id:"c\xf3digo-de-muestra",level:2}];function p(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.h1,{id:"uso-de-tradeno-para-pagos",children:"Uso de TradeNO para pagos"}),"\n",(0,r.jsxs)(a.p,{children:["Los usuarios pueden usar la aplicaci\xf3n de billetera para pagar el pedido realizado en el mini program si la aplicaci\xf3n de billetera proporciona el servicio de pago.Este documento presenta el pago llamando a la API ",(0,r.jsx)(a.a,{href:"/",children:"My.Tradepay"})," con ",(0,r.jsx)(a.code,{children:"tradeNo"}),"."]}),"\n",(0,r.jsx)(a.h2,{id:"experiencia-de-usuario",children:"Experiencia de usuario"}),"\n",(0,r.jsx)(a.p,{children:"Para completar un pago en el mini program, los usuarios generalmente siguen los pasos a continuaci\xf3n:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"El usuario elige bienes en el mini program y crea un pedido, luego presiona el bot\xf3n de pago en el mini program."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"El mini program redirige al usuario a la aplicaci\xf3n de billetera y la aplicaci\xf3n de billetera muestra la p\xe1gina de pago."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"El usuario confirma la informaci\xf3n del pedido, como el beneficiario y el monto, luego hace clic en el bot\xf3n de pago para realizar el pago."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Despu\xe9s de confirmar el pago, la aplicaci\xf3n de billetera muestra el resultado del pago y redirige al usuario a la p\xe1gina del resultado del pago en el mini program."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"procedimientos",children:"Procedimientos"}),"\n",(0,r.jsx)(a.p,{children:"Para usar la API my.tradePay para iniciar un pago en el Mini Programa, los desarrolladores de mini program deben completar los siguientes pasos:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Confirme que el servicio de pago proporcionado por la aplicaci\xf3n de billetera admite el pago por tradeNo y obtenga la gu\xeda de integraci\xf3n de la billetera."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Integre el servicio de pago en el lado del servidor mini program."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Cree un mini programa en el espacio de trabajo de la billetera en la plataforma Mini Program, o aseg\xfarese de que el Mini programa pueda publicarse en la aplicaci\xf3n de billetera."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Proporcionar bienes y servicios de pago en el Mini Programa."}),"\n"]}),"\n",(0,r.jsxs)(a.li,{children:["\n",(0,r.jsx)(a.p,{children:"Publicar el mini program."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(a.h2,{id:"proceso-de-pago",children:"Proceso de pago"}),"\n",(0,r.jsx)(a.p,{children:"La siguiente figura ilustra el proceso de pago:"}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.img,{alt:"Proceso de pago",src:i(99867).A+"",width:"2835",height:"2160"})}),"\n",(0,r.jsx)(a.p,{children:"El proceso de pago contiene los siguientes pasos:"}),"\n",(0,r.jsxs)(a.ol,{children:["\n",(0,r.jsx)(a.li,{children:"El usuario realiza un pedido en el Mini Programa (Paso 1)."}),"\n",(0,r.jsxs)(a.li,{children:["El cliente mini program env\xeda una solicitud para crear el pedido al servidor mini program llamando a la API ",(0,r.jsx)(a.a,{href:"/",children:"my.request"})," (Paso 2)."]}),"\n",(0,r.jsx)(a.li,{children:"El servidor mini program crea el pedido y env\xeda la solicitud al servidor de billetera a trav\xe9s de la API del servidor proporcionada por la billetera (paso 3 y 4)."}),"\n",(0,r.jsxs)(a.li,{children:["El servidor de la billetera crea el pedido y genera ",(0,r.jsx)(a.code,{children:"TradeNo"}),", luego devuelve ",(0,r.jsx)(a.code,{children:"TradeNo"})," al servidor mini program (paso 5-7)."]}),"\n",(0,r.jsxs)(a.li,{children:["El servidor mini program devuelve ",(0,r.jsx)(a.code,{children:"TradeNo"})," al Mini Cliente del Programa (Paso 8)."]}),"\n",(0,r.jsxs)(a.li,{children:["El cliente mini program inicia la solicitud de pago llamando a la API ",(0,r.jsx)(a.a,{href:"/",children:"my.tradePay"})," con ",(0,r.jsx)(a.code,{children:"TradeNo"})," a la aplicaci\xf3n de billetera (Paso 9)."]}),"\n",(0,r.jsx)(a.li,{children:"La aplicaci\xf3n de billetera obtiene la informaci\xf3n del pedido y hace que la p\xe1gina del cajero (paso 10-12)."}),"\n",(0,r.jsx)(a.li,{children:"El usuario confirma el pago y la billetera procesa la solicitud de pago (paso 13-16)."}),"\n",(0,r.jsx)(a.li,{children:"La aplicaci\xf3n de billetera devuelve el resultado de pago al cliente mini program.Al mismo tiempo, el servidor de billetera devuelve el resultado de pago al servidor mini program (paso 17 y 18)."}),"\n",(0,r.jsx)(a.li,{children:"El cliente mini program muestra el resultado del pago (paso 19)."}),"\n"]}),"\n",(0,r.jsx)(a.p,{children:(0,r.jsx)(a.strong,{children:"Nota:"})}),"\n",(0,r.jsx)(a.p,{children:"El flujo de pago es para referencia y puede variar seg\xfan la implementaci\xf3n de la API de la billetera."}),"\n",(0,r.jsx)(a.h2,{id:"c\xf3digo-de-muestra",children:"C\xf3digo de muestra"}),"\n",(0,r.jsxs)(a.p,{children:["El c\xf3digo de muestra para el ",(0,r.jsx)(a.code,{children:"my.tradepay"})," la llamada a la API es la siguiente:"]}),"\n",(0,r.jsx)(a.pre,{children:(0,r.jsx)(a.code,{className:"language-js",children:"my.tradePay({\r\n    tradeNO: '201711152100110410533667792',  \r\n    success: function(res) {            \r\n        my.alert({\r\n            content: JSON.stringify(res),\r\n        });\r\n    },\r\n    fail: function(res) {  \r\n        my.alert({\r\n            content: JSON.stringify(res),\r\n        });\r\n    },\r\n});\n"})})]})}function t(e={}){const{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,r.jsx)(a,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},99867:(e,a,i)=>{i.d(a,{A:()=>r});const r=i.p+"assets/images/processPay-2af015824b21ba4d6a48174ed3aad76f.png"},28453:(e,a,i)=>{i.d(a,{R:()=>o,x:()=>s});var r=i(96540);const n={},l=r.createContext(n);function o(e){const a=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(l.Provider,{value:a},e.children)}}}]);