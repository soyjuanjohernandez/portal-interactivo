"use strict";(self.webpackChunkportal_interactivo=self.webpackChunkportal_interactivo||[]).push([[4626],{10302:(e,r,a)=>{a.r(r),a.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>t});var n=a(74848),i=a(28453);const s={sidebar_position:3},o="Obtener informaci\xf3n b\xe1sica del usuario",l={id:"APIReferences/Capabilities/Informacion basica usuario",title:"Obtener informaci\xf3n b\xe1sica del usuario",description:"El Mini programa puede obtener informaci\xf3n b\xe1sica de los usuarios billetera. Este es un servicio abierto que captura la informaci\xf3n b\xe1sica del usuario como Avatar, Apodo, G\xe9nero y Regi\xf3n despu\xe9s de obtener la autorizaci\xf3n del usuario.",source:"@site/docs/APIReferences/Capabilities/Informacion basica usuario.md",sourceDirName:"APIReferences/Capabilities",slug:"/APIReferences/Capabilities/Informacion basica usuario",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/Informacion basica usuario",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Autorizaci\xf3n de usuarios",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/Autorizacion"},next:{title:"Uso de TradeNO para pagos",permalink:"/portal-interactivo/docs/APIReferences/Capabilities/TradeNo para pago"}},c={},t=[{value:"Requisitos",id:"requisitos",level:2},{value:"Procedimientos",id:"procedimientos",level:2},{value:"Paso 1: Crear un mini program",id:"paso-1-crear-un-mini-program",level:3},{value:"Paso 2: Agregar la caracteristica",id:"paso-2-agregar-la-caracteristica",level:3},{value:"Paso 3: Llamar al jsapi",id:"paso-3-llamar-al-jsapi",level:3},{value:"Mostrar el modal de autorizaci\xf3n",id:"mostrar-el-modal-de-autorizaci\xf3n",level:4},{value:"Llama al my.getOpenUserInfo JSAPI",id:"llama-al-mygetopenuserinfo-jsapi",level:4},{value:"Lista de API",id:"lista-de-api",level:2},{value:"Preguntas frecuentes",id:"preguntas-frecuentes",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"obtener-informaci\xf3n-b\xe1sica-del-usuario",children:"Obtener informaci\xf3n b\xe1sica del usuario"}),"\n",(0,n.jsx)(r.p,{children:"El Mini programa puede obtener informaci\xf3n b\xe1sica de los usuarios billetera. Este es un servicio abierto que captura la informaci\xf3n b\xe1sica del usuario como Avatar, Apodo, G\xe9nero y Regi\xf3n despu\xe9s de obtener la autorizaci\xf3n del usuario."}),"\n",(0,n.jsx)(r.h2,{id:"requisitos",children:"Requisitos"}),"\n",(0,n.jsx)(r.p,{children:"Cuando se obtenga informaci\xf3n b\xe1sica del usuario, los desarrolladores del mini program deben cumplir con los siguientes requisitos:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"No gu\xede a los usuarios a otorgar autorizaci\xf3n al lanzamiento del Mini Programa.Los usuarios tienen derecho a comprender completamente el Mini Programa y sus operaciones antes de dar cualquier autorizaci\xf3n."}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"No obtenga la ID de usuario y el nombre real del usuario. La informaci\xf3n para obtener solo puede incluir informaci\xf3n b\xe1sica del usuario, como avatar de usuarios, apodo, g\xe9nero y ubicaci\xf3n."}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Como la informaci\xf3n b\xe1sica del usuario y el n\xfamero de tel\xe9fono m\xf3vil del usuario son obtenidos por dos JSAPIS, estos dos tipos de informaci\xf3n no se pueden solicitar en el mismo modal."}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"No obtenga informaci\xf3n del usuario que no est\xe9 relacionada con el negocio. Si el usuario no otorga autorizaci\xf3n a la primera solicitud, muestre el modal para permitir al usuario revertir la decisi\xf3n cuando la empresa requiere la autorizaci\xf3n nuevamente."}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"procedimientos",children:"Procedimientos"}),"\n",(0,n.jsx)(r.p,{children:"Para obtener la informaci\xf3n b\xe1sica del usuario en el mini program, los desarrolladores del mini program deben completar los siguientes pasos:"}),"\n",(0,n.jsx)(r.h3,{id:"paso-1-crear-un-mini-program",children:"Paso 1: Crear un mini program"}),"\n",(0,n.jsx)(r.p,{children:"Solicite una cuenta y cree un mini programa en la plataforma de Mini Program"}),"\n",(0,n.jsx)(r.h3,{id:"paso-2-agregar-la-caracteristica",children:"Paso 2: Agregar la caracteristica"}),"\n",(0,n.jsxs)(r.p,{children:['Ingrese el mini programa que acaba de crear. Haga clic en la pesta\xf1a "',(0,n.jsx)(r.strong,{children:"Features"}),'", luego "',(0,n.jsx)(r.strong,{children:"Add Feature"}),'" para que aparezca la lista de funciones. Marque "Obtenga informaci\xf3n b\xe1sica para miembros" y haga clic en el bot\xf3n "Confirmar" para activar la caracteristica.']}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"cuadro caracteristicas",src:a(1849).A+"",width:"1492",height:"580"})}),"\n",(0,n.jsx)(r.h3,{id:"paso-3-llamar-al-jsapi",children:"Paso 3: Llamar al jsapi"}),"\n",(0,n.jsx)(r.p,{children:"Llame al my.getOpenUserInfo JSAPI para obtener la informaci\xf3n b\xe1sica del usuario."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Nota:"})}),"\n",(0,n.jsx)(r.p,{children:"Los desarrolladores deben considerar la posibilidad de que los usuarios rechazen autorizar el Mini Program para recopilar su informaci\xf3n.En tales casos, los desarrolladores deben tener soluciones correspondientes, como guiar a los usuarios a completar o cargar manualmente su informaci\xf3n."}),"\n",(0,n.jsx)(r.h4,{id:"mostrar-el-modal-de-autorizaci\xf3n",children:"Mostrar el modal de autorizaci\xf3n"}),"\n",(0,n.jsx)(r.p,{children:"En el componente del bot\xf3n, establezca el valor de Open-Type como GetAuthorize y establezca el valor del alcance como UserInfo."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"C\xf3digo de muestra:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:'\x3c!-- .axml --\x3e\r\n<button \r\n    open-type="getAuthorize" \r\n    onGetAuthorize="onGetAuthorize" \r\n    onError="onAuthError" \r\n    scope=\'userInfo\'>\r\n</button>\n'})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Button properties"})}),"\n",(0,n.jsxs)("table",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Nombre"}),(0,n.jsx)("th",{children:"Descripci\xf3n"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"open-type"}),(0,n.jsxs)("td",{children:["El valor es ",(0,n.jsx)(r.code,{children:"getAuthorize"}),"."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"scope"}),(0,n.jsxs)("td",{children:["El valor es ",(0,n.jsx)(r.code,{children:"userInfo"}),"."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onGetAuthorize"}),(0,n.jsxs)("td",{children:["Autorizaci\xf3n de devoluci\xf3n de llamada satifactoria. El mini program puede llamar ",(0,n.jsx)(r.code,{children:"my.getOpenUserInfo"})," Para obtener informaci\xf3n en esta devoluci\xf3n de llamada."]})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"onError"}),(0,n.jsx)("td",{children:"Authorization failure callback, including user rejection and system errors."})]})]}),"\n",(0,n.jsx)(r.h4,{id:"llama-al-mygetopenuserinfo-jsapi",children:"Llama al my.getOpenUserInfo JSAPI"}),"\n",(0,n.jsx)(r.p,{children:"Despu\xe9s de que el usuario otorga la autorizaci\xf3n, el Mini Program puede llamar al my.getOpenuserInfo JSAPI para obtener informaci\xf3n b\xe1sica del usuario."}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"C\xf3digo de muestra:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:"// .js \r\nonGetAuthorize(res) {\r\n    my.getOpenUserInfo({\r\n        fail: (res) => {\r\n        },\r\n        success: (res) => {\r\n            let userInfo = JSON.parse(res.response).response\r\n        }\r\n    });\r\n}\n"})}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Muestra de un formato de mensaje devuelto correctamente:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:'{\r\n    "response":{\r\n        "response":{\r\n            "code":"10000",\r\n            "msg":"Success",\r\n            "countryCode":"code",\r\n            "gender":"f",\r\n            "nickName":"XXX",\r\n            "avatar":"https://image_domain/images/partner/XXXXXXXX",\r\n            "city":"city",\r\n            "province":"province"\r\n        }\r\n    }\r\n}\n'})}),"\n",(0,n.jsx)(r.h2,{id:"lista-de-api",children:"Lista de API"}),"\n",(0,n.jsxs)("table",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"JSAPI"}),(0,n.jsx)("th",{children:"Descripci\xf3n"})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"my.getAuthCode"}),(0,n.jsx)("td",{children:"Gets user's authorization code."})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"my.getOpenUserInfo"}),(0,n.jsx)("td",{children:"Gets basic user information."})]})]}),"\n",(0,n.jsx)(r.h2,{id:"preguntas-frecuentes",children:"Preguntas frecuentes"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"1. \xbfSe puede utilizar la funci\xf3n de obtener informaci\xf3n b\xe1sica del usuario para obtener el ID de usuario de la billetera?"})}),"\n",(0,n.jsxs)(r.p,{children:["No. Si los mini programas deben obtener la ID de usuario, consulte la ",(0,n.jsx)(r.a,{href:"/",children:"autorizaci\xf3n del usuario"})," para obtener detalles y llame a ",(0,n.jsx)(r.a,{href:"/",children:"My.getAuthCode"})," para obtener la ID de usuario."]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"2. \xbfPueden los mini programas obtener el n\xfamero de tel\xe9fono m\xf3vil del usuario, el avatar, el apodo y otra informaci\xf3n p\xfablica al mismo tiempo?"})}),"\n",(0,n.jsx)(r.p,{children:"No. Los mini programs no pueden obtener el n\xfamero de tel\xe9fono m\xf3vil del usuario, Avatar, apodo al mismo tiempo en el mismo modal."}),"\n",(0,n.jsxs)(r.p,{children:["La siguiente informaci\xf3n p\xfablica del usuario se puede obtener con ",(0,n.jsx)(r.a,{href:"/",children:"my.getOpenUserInfo"}),":"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Avatar"}),"\n",(0,n.jsx)(r.li,{children:"Alias"}),"\n",(0,n.jsx)(r.li,{children:"G\xe9nero"}),"\n",(0,n.jsx)(r.li,{children:"Pa\xeds"}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["La siguiente informaci\xf3n de usuario privado se puede obtener con ",(0,n.jsx)(r.a,{href:"/",children:"my.getAuthCode"}),":"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"User ID"}),"\n",(0,n.jsx)(r.li,{children:"Phone number"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"3. \xbfPueden los mini programas obtener ID de usuario, nombre real e informaci\xf3n privada a trav\xe9s de la funci\xf3n de obtener informaci\xf3n b\xe1sica del usuario?"})}),"\n",(0,n.jsx)(r.p,{children:"No. A trav\xe9s de la funci\xf3n de obtener informaci\xf3n b\xe1sica del usuario, los mini programas solo pueden obtener avatar de usuario, apodo, g\xe9nero, ubicaci\xf3n y otra informaci\xf3n p\xfablica."})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1849:(e,r,a)=>{a.d(r,{A:()=>n});const n=a.p+"assets/images/addFeature-5d604a0ae67ec9019792498611dade2b.png"},28453:(e,r,a)=>{a.d(r,{R:()=>o,x:()=>l});var n=a(96540);const i={},s=n.createContext(i);function o(e){const r=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);