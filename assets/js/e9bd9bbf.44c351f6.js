"use strict";(self.webpackChunkportal_interactivo=self.webpackChunkportal_interactivo||[]).push([[6286],{14838:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=s(74848),t=s(28453);const i={sidebar_position:3},c=void 0,l={id:"APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones/v1 authorizations cancelToken",title:"v1 authorizations cancelToken",description:"POST /v1/authorizations/cancelToken",source:"@site/docs/APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones/v1 authorizations cancelToken.md",sourceDirName:"APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones",slug:"/APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones/v1 authorizations cancelToken",permalink:"/portal-interactivo/docs/APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones/v1 authorizations cancelToken",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docsSidebar",previous:{title:"Diccionario de datos para v1",permalink:"/portal-interactivo/docs/APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Diccionario de datos para v1"},next:{title:"v1 autorizaciones applyToken",permalink:"/portal-interactivo/docs/APIReferences/OpenAPIs/OpenAPI para comerciantes/Version v1/Autorizaciones/v1 autorizaciones applyToken"}},a={},d=[{value:"Message structure",id:"message-structure",level:2},{value:"Request",id:"request",level:3},{value:"Response",id:"response",level:3},{value:"L\xf3gica del proceso de resultados",id:"l\xf3gica-del-proceso-de-resultados",level:3},{value:"Result",id:"result",level:3},{value:"Muestra",id:"muestra",level:2},{value:"Request",id:"request-1",level:3},{value:"Response",id:"response-1",level:3}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"POST /v1/authorizations/cancelToken"}),"\n",(0,r.jsx)(n.p,{children:"The cancelToken API is used to cancel access token at wallet."}),"\n",(0,r.jsx)(n.h2,{id:"message-structure",children:"Message structure"}),"\n",(0,r.jsx)(n.h3,{id:"request",children:"Request"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Propiedad"}),(0,r.jsx)("th",{children:"Tipo de datos"}),(0,r.jsx)("th",{children:"Requerido"}),(0,r.jsx)("th",{children:"Descripci\xf3n"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"accessToken"}),(0,r.jsx)("td",{children:"String "}),(0,r.jsx)("td",{children:"Yes\t"}),(0,r.jsx)("td",{children:"Un token de acceso que se puede usar para acceder al alcance del recurso del usuario.\r\nMax.Longitud: 128 caracteres."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"extendInfo\t"}),(0,r.jsx)("td",{children:"String \t"}),(0,r.jsx)("td",{children:"No"}),(0,r.jsx)("td",{children:"La informaci\xf3n extendida, la billetera y el comerciante pueden poner informaci\xf3n extendida aqu\xed.\r\nMax.Longitud: 4096 caracteres."})]})]}),"\n",(0,r.jsx)(n.h3,{id:"response",children:"Response"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"result"}),(0,r.jsx)("th",{children:"Result"}),(0,r.jsx)("th",{children:"Yes"}),(0,r.jsx)("th",{children:"El resultado de la solicitud, que contiene informaci\xf3n relacionada con el resultado de la solicitud, como los c\xf3digos de error y de error."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"extendInfo\t"}),(0,r.jsx)("td",{children:"String \t"}),(0,r.jsx)("td",{children:"No"}),(0,r.jsx)("td",{children:"The extend information,wallet and merchant can put extend info here.\r\nMax. length: 4096 characters."})]})]}),"\n",(0,r.jsx)(n.h3,{id:"l\xf3gica-del-proceso-de-resultados",children:"L\xf3gica del proceso de resultados"}),"\n",(0,r.jsx)(n.p,{children:"Para diferentes resultados de solicitud, se deben realizar diferentes acciones.Consulte la siguiente lista para m\xe1s detalles:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Si el valor del ",(0,r.jsx)(n.strong,{children:"result.resultStatus"})," es s, eso significa que la autorizaci\xf3n se cancela correctamente. AuthClient no podr\xe1 utilizar el AccessToken para acceder a los recursos del usuario, y es posible que no use el relativo refreshToken para recuperar el nuevo accesstoken."]}),"\n",(0,r.jsxs)(n.li,{children:["Si el valor del ",(0,r.jsx)(n.strong,{children:"result.resultStatus"})," es F o U, eso significa que la autorizaci\xf3n se cancela fall\xf3, AuthClient puede guiar al usuario a intentarlo nuevamente."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"result",children:"Result"}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Estado de resultados"}),(0,r.jsx)("th",{children:"c\xf3digo de resultado"}),(0,r.jsx)("th",{children:"resulta"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"S\t"}),(0,r.jsx)("td",{children:"SUCCESS\t"}),(0,r.jsx)("td",{children:"Success."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"U\t"}),(0,r.jsx)("td",{children:"UNKNOWN_EXCEPTION\t"}),(0,r.jsx)("td",{children:"An API calling is failed, which is caused by unknown reasons."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"U\t"}),(0,r.jsx)("td",{children:"REQUEST_TRAFFIC_EXCEED_LIMIT\t"}),(0,r.jsx)("td",{children:"The request traffic exceeds the limit."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"PROCESS_FAIL\t"}),(0,r.jsx)("td",{children:"A general business failure occurred. Don't retry."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"PARAM_ILLEGAL\t"}),(0,r.jsx)("td",{children:"Illegal parameters exist. For example, a non-numeric input, or an invalid date."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"ACCESS_DENIED\t"}),(0,r.jsx)("td",{children:"The access is denied."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"INVALID_API\t"}),(0,r.jsx)("td",{children:"The called API is invalid or not active."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"INVALID_AUTH_CLIENT_STATUS\t"}),(0,r.jsx)("td",{children:"Invalid auth client status."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"INVALID_ACCESS_TOKEN\t"}),(0,r.jsx)("td",{children:"The access token is invalid."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"INVALID_AUTH_CLIENT\t"}),(0,r.jsx)("td",{children:"The auth client id is invalid. "})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F\t"}),(0,r.jsx)("td",{children:"EXPIRED_ACCESS_TOKEN\t"}),(0,r.jsx)("td",{children:"The access token is expired."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F"}),(0,r.jsx)("td",{children:"EXPIRED_AGENT_TOKEN"}),(0,r.jsx)("td",{children:"The access token of mini program is expired."})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"F"}),(0,r.jsx)("td",{children:"INVALID_AGENT_TOKEN\t"}),(0,r.jsx)("td",{children:"The access token of mini program is invalid."})]})]}),"\n",(0,r.jsx)(n.h2,{id:"muestra",children:"Muestra"}),"\n",(0,r.jsx)(n.p,{children:"Puede cancelar la autorizaci\xf3n.Despu\xe9s de la cancelaci\xf3n, el Refresh_Token no se puede usar incluso si es v\xe1lido."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(77971).A+"",children:"CancelToken"})}),"\n",(0,r.jsx)(n.p,{children:"Cuando el usuario cancela el token de acceso desde el programa mini,"}),"\n",(0,r.jsx)(n.p,{children:"El servidor comercial calls /v1/authorizations/cancelToken interfaz para cancelar el token de acceso (Step 2).\r\nY el servidor de billetera devuelve el resultado de Cacnel de token al servidor Merchant(Step 3)."}),"\n",(0,r.jsx)(n.h3,{id:"request-1",children:"Request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\r\n  "accessToken": "281010033AB2F588D14B43238637264FCA5Axxxx",\r\n  "extendInfo": "{\\"customerBelongsTo\\":\\"siteNameExample\\"}"\r\n}\r\n\n'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"extendInfo"}),", Incluye Key - CustomerBelongsto la billetera electr\xf3nica que usa el cliente. Correspondiente al campo 'Sitename' que obtuvo de la API 'my.getSiteInfo', en el mini escenario del programa esto es obligatorio."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"response-1",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\r\n "result": {\r\n    "resultCode":"SUCCESS",\r\n    "resultStatus":"S",\r\n    "resultMessage":"success"\r\n  }\r\n}```\n'})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},77971:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/files/Au_CancelToken-716df0427f581559d6dbfdf2f931d7a8.png"},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var r=s(96540);const t={},i=r.createContext(t);function c(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);